{"ast":null,"code":"// transaction with local storage\nconst getItemFromLocalStorage = key => localStorage.getItem(key);\n\nconst addToCart = product => {\n  let shoppingCart = {};\n  const shopping_cart_ls = getItemFromLocalStorage(\"shopping_cart\") || false;\n\n  if (shopping_cart_ls) {\n    shoppingCart = JSON.parse(shopping_cart_ls);\n    shoppingCart[product.key] = shoppingCart[product.key] ? shoppingCart[product.key] + 1 : 1;\n  } else {\n    shoppingCart[product.key] = 1;\n  }\n\n  localStorage.setItem(\"shopping_cart\", JSON.stringify(shoppingCart));\n};\n\nconst removeFromCart = product => {\n  let shoppingCart = {};\n  const shopping_cart_ls = getItemFromLocalStorage(\"shopping_cart\") || false;\n\n  if (shopping_cart_ls) {\n    shoppingCart = JSON.parse(shopping_cart_ls);\n\n    if (shoppingCart[product.key] > 1) {\n      shoppingCart[product.key] -= 1;\n    } else {\n      delete shoppingCart[product.key];\n    }\n  }\n\n  localStorage.setItem(\"shopping_cart\", JSON.stringify(shoppingCart));\n};\n\nexport { addToCart, removeFromCart, getItemFromLocalStorage };","map":{"version":3,"sources":["/Users/rahulthakur/Downloads/react-simple-ecommerce-main/src/utilities/fakedb.js"],"names":["getItemFromLocalStorage","key","localStorage","getItem","addToCart","product","shoppingCart","shopping_cart_ls","JSON","parse","setItem","stringify","removeFromCart"],"mappings":"AAAA;AAEA,MAAMA,uBAAuB,GAAIC,GAAD,IAASC,YAAY,CAACC,OAAb,CAAqBF,GAArB,CAAzC;;AAEA,MAAMG,SAAS,GAAIC,OAAD,IAAa;AAC7B,MAAIC,YAAY,GAAG,EAAnB;AACA,QAAMC,gBAAgB,GAAGP,uBAAuB,CAAC,eAAD,CAAvB,IAA4C,KAArE;;AAEA,MAAIO,gBAAJ,EAAsB;AACpBD,IAAAA,YAAY,GAAGE,IAAI,CAACC,KAAL,CAAWF,gBAAX,CAAf;AACAD,IAAAA,YAAY,CAACD,OAAO,CAACJ,GAAT,CAAZ,GAA4BK,YAAY,CAACD,OAAO,CAACJ,GAAT,CAAZ,GACxBK,YAAY,CAACD,OAAO,CAACJ,GAAT,CAAZ,GAA4B,CADJ,GAExB,CAFJ;AAGD,GALD,MAKO;AACLK,IAAAA,YAAY,CAACD,OAAO,CAACJ,GAAT,CAAZ,GAA4B,CAA5B;AACD;;AACDC,EAAAA,YAAY,CAACQ,OAAb,CAAqB,eAArB,EAAsCF,IAAI,CAACG,SAAL,CAAeL,YAAf,CAAtC;AACD,CAbD;;AAeA,MAAMM,cAAc,GAAIP,OAAD,IAAa;AAClC,MAAIC,YAAY,GAAG,EAAnB;AACA,QAAMC,gBAAgB,GAAGP,uBAAuB,CAAC,eAAD,CAAvB,IAA4C,KAArE;;AAEA,MAAIO,gBAAJ,EAAsB;AACpBD,IAAAA,YAAY,GAAGE,IAAI,CAACC,KAAL,CAAWF,gBAAX,CAAf;;AACA,QAAID,YAAY,CAACD,OAAO,CAACJ,GAAT,CAAZ,GAA4B,CAAhC,EAAmC;AACjCK,MAAAA,YAAY,CAACD,OAAO,CAACJ,GAAT,CAAZ,IAA6B,CAA7B;AACD,KAFD,MAEO;AACL,aAAOK,YAAY,CAACD,OAAO,CAACJ,GAAT,CAAnB;AACD;AACF;;AACDC,EAAAA,YAAY,CAACQ,OAAb,CAAqB,eAArB,EAAsCF,IAAI,CAACG,SAAL,CAAeL,YAAf,CAAtC;AACD,CAbD;;AAeA,SAASF,SAAT,EAAoBQ,cAApB,EAAoCZ,uBAApC","sourcesContent":["// transaction with local storage\n\nconst getItemFromLocalStorage = (key) => localStorage.getItem(key);\n\nconst addToCart = (product) => {\n  let shoppingCart = {};\n  const shopping_cart_ls = getItemFromLocalStorage(\"shopping_cart\") || false;\n\n  if (shopping_cart_ls) {\n    shoppingCart = JSON.parse(shopping_cart_ls);\n    shoppingCart[product.key] = shoppingCart[product.key]\n      ? shoppingCart[product.key] + 1\n      : 1;\n  } else {\n    shoppingCart[product.key] = 1;\n  }\n  localStorage.setItem(\"shopping_cart\", JSON.stringify(shoppingCart));\n};\n\nconst removeFromCart = (product) => {\n  let shoppingCart = {};\n  const shopping_cart_ls = getItemFromLocalStorage(\"shopping_cart\") || false;\n\n  if (shopping_cart_ls) {\n    shoppingCart = JSON.parse(shopping_cart_ls);\n    if (shoppingCart[product.key] > 1) {\n      shoppingCart[product.key] -= 1;\n    } else {\n      delete shoppingCart[product.key];\n    }\n  }\n  localStorage.setItem(\"shopping_cart\", JSON.stringify(shoppingCart));\n};\n\nexport { addToCart, removeFromCart, getItemFromLocalStorage };\n"]},"metadata":{},"sourceType":"module"}