{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { getItemFromLocalStorage } from \"../utilities/fakedb\";\n\nconst useCart = products => {\n  _s();\n\n  const [cart, setCart] = useState([]);\n  useEffect(() => {\n    if (products.length) {\n      const shopping_cart_ls = getItemFromLocalStorage(\"shopping_cart\");\n\n      if (shopping_cart_ls) {\n        let cartItems = JSON.parse(shopping_cart_ls);\n        let storedCartItems = [];\n\n        for (const key in cartItems) {\n          const product = products.find(product => product.key === key);\n\n          if (product) {\n            Array(cartItems[key]).fill(0).forEach(i => storedCartItems.push(product)); // pushing product `quantity` times\n          }\n        }\n\n        setCart(storedCartItems);\n      }\n    }\n  }, [products]);\n  return [cart, setCart];\n};\n\n_s(useCart, \"5+HPoxSo1E/C3go3F1eDhM/DDhE=\");\n\nexport default useCart;","map":{"version":3,"sources":["/Users/rahulthakur/Downloads/react-simple-ecommerce-main/src/hooks/useCart.js"],"names":["useEffect","useState","getItemFromLocalStorage","useCart","products","cart","setCart","length","shopping_cart_ls","cartItems","JSON","parse","storedCartItems","key","product","find","Array","fill","forEach","i","push"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,uBAAT,QAAwC,qBAAxC;;AAEA,MAAMC,OAAO,GAAIC,QAAD,IAAc;AAAA;;AAC5B,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,CAAC,EAAD,CAAhC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,QAAII,QAAQ,CAACG,MAAb,EAAqB;AACnB,YAAMC,gBAAgB,GAAGN,uBAAuB,CAAC,eAAD,CAAhD;;AACA,UAAIM,gBAAJ,EAAsB;AACpB,YAAIC,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWH,gBAAX,CAAhB;AACA,YAAII,eAAe,GAAG,EAAtB;;AACA,aAAK,MAAMC,GAAX,IAAkBJ,SAAlB,EAA6B;AAC3B,gBAAMK,OAAO,GAAGV,QAAQ,CAACW,IAAT,CAAeD,OAAD,IAAaA,OAAO,CAACD,GAAR,KAAgBA,GAA3C,CAAhB;;AACA,cAAIC,OAAJ,EAAa;AACXE,YAAAA,KAAK,CAACP,SAAS,CAACI,GAAD,CAAV,CAAL,CACGI,IADH,CACQ,CADR,EAEGC,OAFH,CAEYC,CAAD,IAAOP,eAAe,CAACQ,IAAhB,CAAqBN,OAArB,CAFlB,EADW,CAGuC;AACnD;AACF;;AACDR,QAAAA,OAAO,CAACM,eAAD,CAAP;AACD;AACF;AACF,GAjBQ,EAiBN,CAACR,QAAD,CAjBM,CAAT;AAmBA,SAAO,CAACC,IAAD,EAAOC,OAAP,CAAP;AACD,CAvBD;;GAAMH,O;;AAyBN,eAAeA,OAAf","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { getItemFromLocalStorage } from \"../utilities/fakedb\";\n\nconst useCart = (products) => {\n  const [cart, setCart] = useState([]);\n\n  useEffect(() => {\n    if (products.length) {\n      const shopping_cart_ls = getItemFromLocalStorage(\"shopping_cart\");\n      if (shopping_cart_ls) {\n        let cartItems = JSON.parse(shopping_cart_ls);\n        let storedCartItems = [];\n        for (const key in cartItems) {\n          const product = products.find((product) => product.key === key);\n          if (product) {\n            Array(cartItems[key])\n              .fill(0)\n              .forEach((i) => storedCartItems.push(product)); // pushing product `quantity` times\n          }\n        }\n        setCart(storedCartItems);\n      }\n    }\n  }, [products]);\n\n  return [cart, setCart];\n};\n\nexport default useCart;\n"]},"metadata":{},"sourceType":"module"}